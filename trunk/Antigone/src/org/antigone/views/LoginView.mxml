<?xml version="1.0" encoding="utf-8"?>
<mx:Form defaultButton="{loginButton}"
	xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:mediators="org.antigone.mediators.*"
	xmlns:models="org.antigone.models.*"
	width="342" >
	
	<!-- Published events -->
	<mx:Metadata>
		[Event(name="newUserClicked", type="flash.events.Event")]
        [Event(name="userConnected", type="org.antigone.mediators.events.UserEvent")]
    </mx:Metadata>
    	
	<!-- View mediator -->
	<mediators:LoginMediator id="mediator" view="{this}" />
	
	<!-- Instance of the model, bound to the form fields -->
	<models:User id="userModel" username="{username.text}" password="{password.text}" />
	
	<!-- The main form goes here -->
	<mx:FormItem label="Identifiant">
		<mx:TextInput id="username" />
	</mx:FormItem>
	<mx:FormItem label="Mot de passe">
		<mx:TextInput id="password" displayAsPassword="true"/>
	</mx:FormItem>
	<mx:HBox horizontalAlign="center" width="100%">		
		<mx:Button label="Nouvel utilisateur" click="mediator.NewUserClicked()"/>
		<mx:Button id="loginButton" label="S'identifier" click="mediator.PerformLogin()" />
	</mx:HBox>
	
	<!-- Validate all stuff -->
	<mx:Validator source="{username}" property="text" required="true" />
	<mx:Validator source="{password}" property="text" required="true" />

</mx:Form>	

